Setting JAVA_HOME to /mnt/efs/fs1/jdk1.7.0_80

Adding /mnt/efs/fs1/jdk1.7.0_80/bin: to PATH environmental variable


Java 7 environment setup completed
Math-57
22:39:45.860 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Math-57 Failed Tests: 1
Reading method line coverage from /mnt/efs/fs1/XiaInformation/AllMethods/Math/57.txt
Reading test line coverage from /mnt/efs/fs1/XiaInformation/LineCoverage/Math/57.txt
22:39:52.597 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - ProFL successfully initialized
22:39:52.647 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/generalSusInfo.profl
22:39:52.655 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
22:39:52.655 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer ===194
22:39:54.125 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
22:39:54.126 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194 ---
22:39:54.126 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java 194 ---
22:39:54.126 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:39:54.393 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size()==k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
22:39:54.394 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size()!=k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
22:39:54.394 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size()<=k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
22:39:54.394 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size()>k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
22:39:54.394 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size()>=k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
---------------- Testing New Patch ----------------
22:39:54.399 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:39:55.976 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:39:55.976 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:41:02.986 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:41:02.986 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 4, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2]
22:41:02.986 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate
22:41:02.986 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace
22:41:02.986 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:41:02.987 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2
22:41:02.987 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=3, pp=Unknown
22:41:02.987 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
22:41:02.992 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:41:02.992 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:41:02.992 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 4 Math-57
---------------- Testing New Patch ----------------
22:41:02.993 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:41:04.414 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:41:04.414 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:42:09.397 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:42:09.398 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:42:09.398 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:42:09.398 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
22:42:09.398 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
22:42:09.425 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:42:09.426 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:42:09.426 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-57
---------------- Testing New Patch ----------------
22:42:09.427 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:42:10.782 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:42:10.782 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:43:11.736 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 4, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2]
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=3, pp=Unknown
22:43:11.737 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
22:43:11.746 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:43:11.746 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:43:11.746 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 4 Math-57
---------------- Testing New Patch ----------------
22:43:11.747 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:43:13.023 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:43:13.024 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 3, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2]
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=2, pp=Unknown
22:44:07.935 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
22:44:07.996 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:44:07.996 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:44:07.996 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 3 Math-57
---------------- Testing New Patch ----------------
22:44:07.997 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:44:09.247 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:44:09.247 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 4, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2]
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testPerformClusterAnalysisDegenerate
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=3, pp=Unknown
22:45:06.490 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
22:45:06.920 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:45:06.920 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:45:06.920 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 4 Math-57
22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet != null) {
	

	}

22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) {
	    throw new IllegalArgumentException("Null 'resultSet' argument.");
	}

22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) {
	    return null;
	}

22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) resultSet = pointSet;
 
22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) resultSet = new List();
 
22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) return new List();
	 
22:45:07.554 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (resultSet == null) return pointSet;
	 
---------------- Testing New Patch ----------------
22:45:07.555 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:45:08.784 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:45:08.784 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:45:09.944 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:45:09.944 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:46:00.309 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:46:00.309 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:46:00.309 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:46:00.310 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
22:46:00.310 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
22:46:06.797 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:46:06.798 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:46:06.798 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-57
---------------- Testing New Patch ----------------
22:46:06.799 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:46:07.983 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:46:07.983 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:47:01.016 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:47:01.016 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:47:01.016 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:47:01.016 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
22:47:01.016 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
22:48:30.011 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
22:48:30.012 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
22:48:30.012 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-57
---------------- Testing New Patch ----------------
22:48:30.012 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:31.165 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:31.166 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:32.271 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:32.272 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:33.336 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:33.337 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:34.524 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
22:48:34.548 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
	final List<T> pointSet = new ArrayList<T>(points);
        final List<Cluster<T>> resultSet = new ArrayList<Cluster<T>>();

        // Choose one center uniformly at random from among the data points.
        final T firstPoint = pointSet.remove(random.nextInt(pointSet.size()));
        resultSet.add(new Cluster<T>(firstPoint));

        final double[] dx2 = new double[pointSet.size()];
        
null
22:48:34.548 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
	final List<Cluster<T>> resultSet = new ArrayList<Cluster<T>>();

        // Choose one center uniformly at random from among the data points.
        final T firstPoint = pointSet.remove(random.nextInt(pointSet.size()));
        resultSet.add(new Cluster<T>(firstPoint));

        final double[] dx2 = new double[pointSet.size()];
        
null
22:48:34.548 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
	final T firstPoint = pointSet.remove(random.nextInt(pointSet.size()));
        resultSet.add(new Cluster<T>(firstPoint));

        final double[] dx2 = new double[pointSet.size()];
        
null
22:48:34.548 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
	resultSet.add(new Cluster<T>(firstPoint));

        final double[] dx2 = new double[pointSet.size()];
        
null
22:48:34.549 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }
	final double[] dx2 = new double[pointSet.size()];
        
null
22:48:34.549 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

        return resultSet;
	while (resultSet.size() < k) {
            // For each data point x, compute D(x), the distance between x and
            // the nearest center that has already been chosen.
            int sum = 0;
            for (int i = 0; i < pointSet.size(); i++) {
                final T p = pointSet.get(i);
                final Cluster<T> nearest = getNearestCluster(resultSet, p);
                final double d = p.distanceFrom(nearest.getCenter());
                sum += d * d;
                dx2[i] = sum;
            }

            // Add one new data point as a center. Each point x is chosen with
            // probability proportional to D(x)2
            final double r = random.nextDouble() * sum;
            for (int i = 0 ; i < dx2.length; i++) {
                if (dx2[i] >= r) {
                    final T p = pointSet.remove(i);
                    resultSet.add(new Cluster<T>(p));
                    break;
                }
            }
        }

MOVE-BUGGY-STATEMENT
---------------- Testing New Patch ----------------
22:48:34.549 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:35.720 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:35.721 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:36.868 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:36.868 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:37.920 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:37.920 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:39.090 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:39.091 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:40.286 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
22:48:40.287 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:41.429 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
22:48:41.450 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 
22:48:41.450 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

---------------- Testing New Patch ----------------
22:48:41.451 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
22:48:42.550 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
22:48:42.550 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 3, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances, - org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2]
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testCertainSpace
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::dimension2
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=2, pp=Unknown
22:49:29.998 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
23:11:12.332 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-57/aggregatedSusInfo.profl
23:11:12.333 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:chooseInitialCenters(Ljava/util/Collection;ILjava/util/Random;)Ljava/util/List; in org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:194
23:11:12.333 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 3 Math-57
---------------- Testing New Patch ----------------
23:11:12.333 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
23:11:13.489 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
23:11:13.516 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer ===191
23:11:13.568 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
break;
23:11:13.569 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:191 ---
23:11:13.569 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java 191 ---
23:11:13.569 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
23:11:13.637 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

---------------- Testing New Patch ----------------
23:11:13.664 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer ===190
23:11:13.718 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
resultSet.add(new Cluster<T>(p));
23:11:13.718 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer:190 ---
23:11:13.719 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java 190 ---
23:11:13.719 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
23:11:13.744 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: resultSet.add(Clusterr<T>(p));
23:11:13.744 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: resultSet.add(new Cluster<T>());
---------------- Testing New Patch ----------------
23:11:13.745 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
23:11:14.825 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
23:11:14.826 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
23:11:16.035 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
23:11:16.110 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: pointSet.add(new Cluster<T>(p));
23:11:16.110 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: resultSet.add(new Cluster<T>(firstPoint));
---------------- Testing New Patch ----------------
23:11:16.111 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
23:11:17.141 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-57 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
23:11:17.141 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
23:11:18.331 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
23:11:18.331 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
23:12:02.597 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
23:12:02.597 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances]
23:12:02.598 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.stat.clustering.KMeansPlusPlusClustererTest::testSmallDistances
23:12:02.598 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
23:12:02.598 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
