Setting JAVA_HOME to /mnt/efs/fs1/jdk1.7.0_80

Adding /mnt/efs/fs1/jdk1.7.0_80/bin: to PATH environmental variable


Java 7 environment setup completed
Math-8
09:45:10.408 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Math-8 Failed Tests: 1
Reading method line coverage from /mnt/efs/fs1/XiaInformation/AllMethods/Math/8.txt
Reading test line coverage from /mnt/efs/fs1/XiaInformation/LineCoverage/Math/8.txt
09:45:31.500 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - ProFL successfully initialized
09:45:31.539 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/generalSusInfo.profl
09:45:31.541 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
09:45:31.541 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math3.distribution.DiscreteDistribution ===190
09:45:32.911 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
out[i] = sample();
09:45:32.911 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math3.distribution.DiscreteDistribution:190 ---
09:45:32.911 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math3/distribution/DiscreteDistribution.java 190 ---
09:45:32.911 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:45:33.106 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if ((i < out.length())) {
	

}

---------------- Testing New Patch ----------------
09:45:33.109 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:34.988 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
09:45:35.091 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: getSamples()[i] = sample();
09:45:35.092 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: sample()[i] = sample();
09:45:35.092 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: out[getSamples()] = sample();
09:45:35.092 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: out[sample()] = sample();
---------------- Testing New Patch ----------------
09:45:35.093 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:36.771 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
09:45:36.771 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:38.540 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
09:45:38.541 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:40.423 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
09:45:40.423 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:42.006 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
09:45:42.121 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out != null) {
	

	}

09:45:42.121 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out == null) {
	    throw new IllegalArgumentException("Null 'out' argument.");
	}

09:45:42.121 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out == null) {
	    return null;
	}

09:45:42.121 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out == null) out = new T[]();
 
09:45:42.121 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out == null) return new T[]();
	 
09:45:42.122 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: if (out == null) continue;
	
---------------- Testing New Patch ----------------
09:45:42.123 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:45:43.641 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
09:45:43.641 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
09:49:12.842 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:49:12.843 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:49:12.843 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942
09:49:12.843 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
09:49:12.843 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
09:49:12.849 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
09:49:12.850 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.distribution.DiscreteDistribution:sample(I)[Ljava/lang/Object; in org.apache.commons.math3.distribution.DiscreteDistribution:190
09:49:12.850 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-8
---------------- Testing New Patch ----------------
09:49:12.869 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:49:14.135 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
09:49:14.135 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
09:51:57.407 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:51:57.407 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:51:57.407 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942
09:51:57.407 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
09:51:57.407 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
09:51:57.437 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
09:51:57.438 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.distribution.DiscreteDistribution:sample(I)[Ljava/lang/Object; in org.apache.commons.math3.distribution.DiscreteDistribution:190
09:51:57.438 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-8
---------------- Testing New Patch ----------------
09:51:57.438 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:51:58.793 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
09:51:58.793 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
09:54:48.959 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:54:48.960 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:54:48.960 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942
09:54:48.960 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
09:54:48.961 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
09:54:49.010 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
09:54:49.010 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.distribution.DiscreteDistribution:sample(I)[Ljava/lang/Object; in org.apache.commons.math3.distribution.DiscreteDistribution:190
09:54:49.010 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-8
---------------- Testing New Patch ----------------
09:54:49.011 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:54:49.630 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
09:54:49.630 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:54:50.238 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-8 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
09:54:50.239 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:54:51.622 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
09:54:51.622 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
09:57:32.218 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:57:32.219 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
09:57:32.219 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942
09:57:32.219 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
09:57:32.219 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
09:57:32.474 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
09:57:32.474 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.distribution.DiscreteDistribution:sample(I)[Ljava/lang/Object; in org.apache.commons.math3.distribution.DiscreteDistribution:190
09:57:32.475 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-8
09:57:32.713 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 
09:57:32.713 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

---------------- Testing New Patch ----------------
09:57:32.714 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
09:57:34.011 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
09:57:34.011 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
10:00:14.979 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.distribution.DiscreteRealDistributionTest::testIssue942]
10:00:14.979 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 0, []
10:00:14.979 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=0, fp=1, pf=0, pp=Unknown
10:00:14.979 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] CleanFix found
10:00:20.018 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
10:00:20.018 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.distribution.DiscreteDistribution:sample(I)[Ljava/lang/Object; in org.apache.commons.math3.distribution.DiscreteDistribution:190
10:00:20.018 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Succeeded to fix the bug Math-8====================
diff --git a/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java b/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
index 5cb0e4382..062ffa14c 100644
--- a/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
+++ b/src/main/java/org/apache/commons/math3/distribution/DiscreteDistribution.java
@@ -187,7 +187,7 @@ public class DiscreteDistribution<T> {
         final T[]out = (T[]) java.lang.reflect.Array.newInstance(singletons.get(0).getClass(), sampleSize);
 
         for (int i = 0; i < sampleSize; i++) {
-            out[i] = sample();
+            
         }
 
         return out;
10:00:21.091 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Finish off fixing======
10:00:56.989 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-8/aggregatedSusInfo.profl
Succeeded to fix bug Math-8
Repair process completed
