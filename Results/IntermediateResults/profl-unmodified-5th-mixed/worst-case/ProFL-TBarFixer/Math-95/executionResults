Setting JAVA_HOME to /mnt/efs/fs1/jdk1.7.0_80

Adding /mnt/efs/fs1/jdk1.7.0_80/bin: to PATH environmental variable


Java 7 environment setup completed
Math-95
01:55:07.448 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Math-95 Failed Tests: 1
Reading method line coverage from /mnt/efs/fs1/XiaInformation/AllMethods/Math/95.txt
Reading test line coverage from /mnt/efs/fs1/XiaInformation/LineCoverage/Math/95.txt
01:55:11.493 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - ProFL successfully initialized
01:55:11.537 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-95/generalSusInfo.profl
01:55:11.539 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
01:55:11.539 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math.analysis.UnivariateRealSolverUtils ===179
01:55:13.636 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" + lowerBound + 
              " initial=" + initial + " upperBound=" + upperBound);
01:55:13.637 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math.analysis.UnivariateRealSolverUtils:179 ---
01:55:13.637 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math/analysis/UnivariateRealSolverUtils.java 179 ---
01:55:13.637 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom]
01:55:13.845 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" - lowerBound + 
              " initial=" + initial + " upperBound=" + upperBound);
01:55:13.859 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" + lowerBound - " initial=" + initial + " upperBound=" + upperBound);
01:55:13.859 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" + lowerBound + 
              " initial=" - initial + " upperBound=" + upperBound);
01:55:13.859 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" + lowerBound + 
              " initial=" + initial - " upperBound=" + upperBound);
01:55:13.859 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: throw new IllegalArgumentException
            ("Invalid endpoint parameters:  lowerBound=" + lowerBound + 
              " initial=" + initial + " upperBound=" - upperBound);
---------------- Testing New Patch ----------------
01:55:13.861 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:15.938 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
01:55:15.938 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:17.973 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
01:55:17.973 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:19.933 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
01:55:19.934 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:22.091 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
01:55:22.092 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:23.969 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
01:55:24.527 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 
01:55:24.527 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

---------------- Testing New Patch ----------------
01:55:24.528 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:26.514 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
01:55:26.514 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom]
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 2, [- org.apache.commons.math.analysis.UnivariateRealSolverUtilsTest::testBadParameters, - org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom]
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Pass->Fail test case ->org.apache.commons.math.analysis.UnivariateRealSolverUtilsTest::testBadParameters
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=1, pp=Unknown
01:55:50.196 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NegFix found
01:55:50.212 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-95/aggregatedSusInfo.profl
01:55:50.222 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.analysis.UnivariateRealSolverUtils:bracket(Lorg/apache/commons/math/analysis/UnivariateRealFunction;DDDI)[D in org.apache.commons.math.analysis.UnivariateRealSolverUtils:179
01:55:50.223 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 2 Math-95
---------------- Testing New Patch ----------------
01:55:50.224 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:52.166 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-95 ---Fixer: fix fail because of failed compiling! 
01:55:52.251 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math.distribution.FDistributionImpl ===148
01:55:52.305 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
return ret;
01:55:52.305 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math.distribution.FDistributionImpl:148 ---
01:55:52.306 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math/distribution/FDistributionImpl.java 148 ---
01:55:52.306 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom]
01:55:52.364 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return this.numeratorDegreesOfFreedom;
01:55:52.364 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return this.denominatorDegreesOfFreedom;
01:55:52.364 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return d;
01:55:52.365 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return p;
01:55:52.365 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getNumeratorDegreesOfFreedom();
01:55:52.365 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getDenominatorDegreesOfFreedom();
---------------- Testing New Patch ----------------
01:55:52.366 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
01:55:54.328 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
01:55:54.329 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
01:56:17.733 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math.distribution.FDistributionTest::testSmallDegreesOfFreedom]
01:56:17.733 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 0, []
01:56:17.733 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=0, fp=1, pf=0, pp=Unknown
01:56:17.733 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] CleanFix found
01:56:17.808 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-95/aggregatedSusInfo.profl
01:56:17.808 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math.distribution.FDistributionImpl:getInitialDomain(D)D in org.apache.commons.math.distribution.FDistributionImpl:148
01:56:17.808 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Succeeded to fix the bug Math-95====================
diff --git a/src/java/org/apache/commons/math/distribution/FDistributionImpl.java b/src/java/org/apache/commons/math/distribution/FDistributionImpl.java
index e19e97aef..5bde9d0cb 100644
--- a/src/java/org/apache/commons/math/distribution/FDistributionImpl.java
+++ b/src/java/org/apache/commons/math/distribution/FDistributionImpl.java
@@ -145,7 +145,7 @@ public class FDistributionImpl
         double d = getDenominatorDegreesOfFreedom();
             // use mean
             ret = d / (d - 2.0);
-        return ret;
+        return this.numeratorDegreesOfFreedom;
     }
     
     /**
01:56:18.001 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Finish off fixing======
01:56:18.071 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-95/aggregatedSusInfo.profl
Succeeded to fix bug Math-95
Repair process completed
