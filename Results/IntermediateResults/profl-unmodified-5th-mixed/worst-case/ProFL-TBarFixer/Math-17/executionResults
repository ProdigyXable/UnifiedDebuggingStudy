Setting JAVA_HOME to /mnt/efs/fs1/jdk1.7.0_80

Adding /mnt/efs/fs1/jdk1.7.0_80/bin: to PATH environmental variable


Java 7 environment setup completed
Math-17
10:17:01.303 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Math-17 Failed Tests: 1
Reading method line coverage from /mnt/efs/fs1/XiaInformation/AllMethods/Math/17.txt
Reading test line coverage from /mnt/efs/fs1/XiaInformation/LineCoverage/Math/17.txt
10:17:09.255 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - ProFL successfully initialized
10:17:09.272 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-17/generalSusInfo.profl
10:17:09.273 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Start to fix suspicious code======
10:17:09.273 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math3.dfp.Dfp ===1658
10:17:10.724 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
result.exp = 0;
10:17:10.724 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math3.dfp.Dfp:1658 ---
10:17:10.724 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math3/dfp/Dfp.java 1658 ---
10:17:10.724 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:17:11.249 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: result.exp = 0d;
10:17:11.249 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: result.exp = 0f;
---------------- Testing New Patch ----------------
10:17:11.252 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:17:12.750 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-17 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
10:17:12.752 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:17:14.166 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-17 ---Fixer: fix fail because of failed compiling! 
10:17:14.358 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 
10:17:14.358 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: 

---------------- Testing New Patch ----------------
10:17:14.359 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:17:15.956 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
10:17:15.956 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
10:18:54.841 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:18:54.841 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:18:54.841 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.dfp.DfpTest::testMultiply
10:18:54.841 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
10:18:54.841 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
10:18:54.848 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-17/aggregatedSusInfo.profl
10:18:54.848 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.dfp.Dfp:multiplyFast(I)Lorg/apache/commons/math3/dfp/Dfp; in org.apache.commons.math3.dfp.Dfp:1658
10:18:54.848 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-17
---------------- Testing New Patch ----------------
10:18:54.848 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:18:56.260 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-17 ---Fixer: fix fail because of failed compiling! 
10:18:56.356 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - org.apache.commons.math3.dfp.Dfp ===1640
10:18:56.483 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Suspicious Code: 
return result;
10:18:56.484 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Looking at org.apache.commons.math3.dfp.Dfp:1640 ---
10:18:56.484 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - --- Attempting to fix org/apache/commons/math3/dfp/Dfp.java 1640 ---
10:18:56.484 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - [- org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:18:56.668 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return newInstance();
10:18:56.668 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getField();
10:18:56.668 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getRadixDigits();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getZero();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getOne();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return getTwo();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return shiftLeft();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return shiftRight();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return negativeOrNull();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return strictlyNegative();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return positiveOrNull();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return strictlyPositive();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return abs();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return isInfinite();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return isNaN();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return isZero();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return hashCode();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return rint();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return floor();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return ceil();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return intValue();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return log10K();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return log10();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return negate();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return reciprocal();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return sqrt();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return toString();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return dfp2sci();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return dfp2string();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return classify();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return toDouble();
10:18:56.669 [main] DEBUG edu.lu.uni.serval.tbar.fixtemplate.FixTemplate - Patch Candidate: return toSplitDouble();
---------------- Testing New Patch ----------------
10:18:56.671 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:18:58.208 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
10:18:58.208 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
10:20:37.194 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:20:37.194 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 1, [- org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:20:37.194 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Fail->Fail test case ->org.apache.commons.math3.dfp.DfpTest::testMultiply
10:20:37.194 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=1, fp=0, pf=0, pp=Unknown
10:20:37.194 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] NoneFix found
10:20:37.246 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-17/aggregatedSusInfo.profl
10:20:37.246 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.dfp.Dfp:multiplyFast(I)Lorg/apache/commons/math3/dfp/Dfp; in org.apache.commons.math3.dfp.Dfp:1640
10:20:37.246 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Failed Tests after fixing: 1 Math-17
---------------- Testing New Patch ----------------
10:20:37.247 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:20:38.637 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-17 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
10:20:38.639 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:20:40.052 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Math-17 ---Fixer: fix fail because of failed compiling! 
---------------- Testing New Patch ----------------
10:20:40.054 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Compiling
10:20:41.436 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Finish of compiling.
10:20:41.436 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Test previously failed test cases.
10:20:52.510 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests BEFORE patch = 1, [org.apache.commons.math3.dfp.DfpTest::testMultiply]
10:20:52.510 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Failed tests AFTER patch = 0, []
10:20:52.510 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Patch test results ff=0, fp=1, pf=0, pp=Unknown
10:20:52.511 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - [ProFL] CleanFix found
10:20:52.578 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-17/aggregatedSusInfo.profl
10:20:52.578 [main] DEBUG edu.lu.uni.serval.tbar.AbstractFixer - Mutated = org.apache.commons.math3.dfp.Dfp:multiplyFast(I)Lorg/apache/commons/math3/dfp/Dfp; in org.apache.commons.math3.dfp.Dfp:1640
10:20:52.579 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Succeeded to fix the bug Math-17====================
diff --git a/src/main/java/org/apache/commons/math3/dfp/Dfp.java b/src/main/java/org/apache/commons/math3/dfp/Dfp.java
index 0f78330a5..4faabc462 100644
--- a/src/main/java/org/apache/commons/math3/dfp/Dfp.java
+++ b/src/main/java/org/apache/commons/math3/dfp/Dfp.java
@@ -1637,7 +1637,7 @@ public class Dfp implements FieldElement<Dfp> {
             result = newInstance(getZero());
             result.nans = QNAN;
             result = dotrap(DfpField.FLAG_INVALID, MULTIPLY_TRAP, result, result);
-            return result;
+            return getZero();
         }
 
         int rh = 0;
10:21:00.053 [main] INFO edu.lu.uni.serval.tbar.TBarFixer - =======StaticBugFixer: Finish off fixing======
10:21:00.550 [main] INFO edu.lu.uni.serval.tbar.AbstractFixer - Profl information saved to /home/ubuntu/repair-tool/tbar/ProFL-TBarFixer/Math-17/aggregatedSusInfo.profl
Succeeded to fix bug Math-17
Repair process completed
